<!doctype html>
<html lang="sk">
  <head>
    <meta charset="utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="SPy o.z.">
    <link rel="icon" href="/static/img/logo/favicon.ico" sizes="16x16">
    <title>Print: Učíme s Hardvérom</title>
    <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/python.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  </head>

  <body>

    <main role="main">

      <div class="container">
            <h1>Úvod k MicroPythonu</h1>
            <p>Ahoj,</p>
<p>ak si sa dostal/a na túto stránku, chceš sa pravdepodobne ponoriť do krás jazyka Python na zariadení BBC micro:bit :-)</p>
<p>Tieto materiály sú určené komukoľvek, kto sa chce naučiť ovládať BBC micro:bit Python (respektíve MicroPythonom, rozdiel je popísaný nižšie).
Určite </p>
<h2 id="co-je-to-microbit">Čo je to micro:bit?</h2>
<p>Malá edukačná doska vhodná pre využitie vrámci hodín informatiky na základných a stredných školách. Vďaka konektorom (tzv. pinom) je možné ňou programovať hardvér.</p>
<div class="embed-responsive embed-responsive-16by9"><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="embed-responsive-item" frameborder="0" height="315" src="https://www.youtube.com/embed/gHa1Knk4V4Y" width="560"></iframe></div>
<h2 id="python">Python</h2>
<p>Python je veľmi populárny a všestranný programovací jazyk odporúčaný pre vyučovanie základov programovania. Práve preto postupne nahrádza iné programovacie jazyky na hodinách informatiky. Vo veľkom Python využívajú aj v Google, Dropbox, Európskej organizácii jadrového výskumu CERN, sociálnych sieťach Facebook, Pinterest a Instagram, či pri vyučovaní na prestížnej vysokej škole MIT.</p>
<p>Autorom jazyka Python je Guido van Rossum (prvá verzia je z 1989). V súčasnosti jazyk Python vyvíja a spravuje komunita, zastrešovaná medzinárodnou organizáciou Python Software Foundation (skratka PSF). Samotný jazyk je open-source.</p>
<p>Python je interpretovaný jazyk, a preto sa po dopísaní kódu ho neskompilujeme (ako napríklad C či Pascal) ale spustíme ho v interpreteri. Ten náš kód za chodu číta a prekladá na strojové inštukcie pre procesor. Preto je potrebné, aby sme na spustenie Python kódu mali na počítači nainštalovaný Python interpreter. (ako si vysvetlíme o schvíľu)</p>
<p>Odporúčame používať najnovšiu verziu Python3 (v súčasnosti je to Python3.6). Python2 je staršia verzia Pythonu a už nie je vhodné v nej programovať.</p>
<p>V čom sa Python líši snáď najviac od iných programovacích jazykov je práve komunika. Tá je tvorená profesionálmi, začiatočníkmi, učiteľmi i víkendovými programátormi a tak je veľmi rôznorodá. Po celom svete sa pravidelne organizujú konferencie PyCon (čiže PYthon CONference). Na Slovensku je táto konferencia organizovaná raz ročne občianskym združením SPy (Slovak Python User Group).</p>
<h2 id="micropython">MicroPython</h2>
<p>MicroPython je upravená verzia Pythonu, ktorá beží aj na menej výkonných zariadeniach. Vďaka tomu vieme v MicroPythone programovať mikroelektroniku a interagovať s okolitým svetom pomocou LED diód, senzorov, bzučiakov, motorčekov, atď. Takéto zariadenia sú zároveň rádovo lacnejšie ako počítače pre klasický Python. Obrovskou výhodou je fakt, že syntax je pre obe verzie jazyka rovnaká, a tak sa učiteľom aj žiakom stačí naučiť iba jeden jazyk.</p>
<p>Tak ako na spustenie Python kódu na počítači potrebuje nainštalovaný interpreter, tak aj pre MicroPython kód musíme na mikroprocesom najprv nainsťalovať MicroPython interpreter. To stačí spraviť raz a následne mu budeme už len posielať naše zdrojové kódy na preklad. Raz za čas sa ale oplatí MicroPython na zariadení preinštalovať na novšiu verziu, aby sme mali vždy čo najviac funkčný interpreter.</p>
<p>MicroPython interpreter vymyslel Damien George v roku 2013 pre vývojovú dosku pyboard (s mikroprocesorom STM32). V súčasnosti existuje viacero verzií MicoPythonu pre rôzne mikroprocesory. My budeme používať verziu pre micro:bit.</p>
<p>Veľmi dôležitá je <a href="http://microbit-micropython.readthedocs.io">MicroPython dokumentácia</a>, ktorú budeme Časti využívať.</p>
<p>Posledná zmena: <strong>28.2.2020</strong></p>
      </div>

    </main>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="/static/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="/static/js/vendor/popper.min.js"></script>
    <script src="/static/bootstrap/js/bootstrap.min.js"></script>
    <script src="/static/js/vendor/holder.min.js"></script>


    <script>

      /* message signatures
      export interface RenderBlocksRequestMessage extends SimulatorMessage {
          type: "renderblocks",
          id: string;
          code: string;
          options?: {
              package?: string;
              packageId?: string;
              snippetMode?: boolean;
          }
      }

      export interface RenderBlocksResponseMessage extends SimulatorMessage {
          source: "makecode",
          type: "renderblocks",
          id: string;
          svg?: string;
          width?: number;
          height?: number;
      }*/

      var makeCodeRenderPre = makeCodeRenderPre || (function () {
          // pre waiting to be rendered
          // when undefined, iframe is loaded and ready
          var pendingPres = [];
          function injectRenderer() {
              var f = document.getElementById("makecoderenderer");
              // check iframe already added to the DOM
              if (f) {
                  return;
              }
              var f = document.createElement("iframe");
              f.id = "makecoderenderer";
              f.style.position = "absolute";
              f.style.left = 0;
              f.style.bottom = 0;
              f.style.width = "1px";
              f.style.height = "1px";
              f.src = "https://makecode.microbit.org/--docs?render=1"
              document.body.appendChild(f);
          }

          function renderPre(pre) {
              console.log('render ' + pre.id)
              var f = document.getElementById("makecoderenderer");
              // check if iframe is added and ready (pendingPres is undefined)
              if (!f || !!pendingPres) {
                  // queue up
                  pendingPres.push(pre);
                  injectRenderer();
              } else {
                  f.contentWindow.postMessage({
                      type: "renderblocks",
                      id: pre.id,
                      code: pre.innerText,
                      options: {
                        packageId: pre.getAttribute("data-packageid")
                      }
                  }, "https://makecode.microbit.org/");
              }
          }

          // listen for messages
          window.addEventListener("message", function (ev) {
              var msg = ev.data;
              if (msg.source != "makecode") return;

              console.log(msg.type)
              switch (msg.type) {
                  case "renderready":
                      // flush pending requests                   
                      var pres = pendingPres;
                      // set as undefined to notify that iframe is ready
                      pendingPres = undefined;
                      pres.forEach(function (pre) { renderPre(pre); })
                      break;
                  case "renderblocks":
                      var svg = msg.svg; // this is an string containing SVG
                      var id = msg.id; // this is the id you sent

                      var xhttp = new XMLHttpRequest();
                      xhttp.open("POST", "http://127.0.0.1:5000/materialy/save_makecode_image/"+msg.id, true);
                      xhttp.send(msg.uri);


                      // replace text with svg
                      var img = document.createElement("img");
                      img.src = msg.uri;
                      img.width = msg.width;
                      img.height = msg.height;
                      var code = document.getElementById(id);
                      code.parentElement.insertBefore(img, code)
                      code.parentElement.removeChild(code);
                      break;
              }
          }, false);

          return renderPre;
      })();

      function renderSnippets() {
          // TODO ADD RENDER LOGIC HERE
          let pres = document.getElementsByTagName("pre");
          Array.prototype.forEach.call(pres, function (pre) {
              makeCodeRenderPre(pre);
          })
      }

      // load the renderer
      renderSnippets();

      </script>

  </body>
</html>